/*! jQuery ListNav - v2.2.1 - 2013-09-17  - Copyright Eric Steinborn, previously iHWY */
!function(a){a.fn.listnav=function(b){var c=a.extend({},a.fn.listnav.defaults,b),d=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],e=!1;return c.prefixes=a.map(c.prefixes,function(a){return a.toLowerCase()}),this.each(function(){function b(){if(n.append(m()),o=a(".ln-letters",n).slice(0,1),c.showCounts&&(p=a(".ln-letter-count",n).slice(0,1)),g(),j(),l(),c.flagDisabled&&i(),c.includeAll||a(".all",o).remove(),c.includeNums||a("._",o).remove(),c.includeOther||a(".-",o).remove(),c.removeDisabled&&a(".ln-disabled",o).remove(),a(":last",o).addClass("ln-last"),a.cookie&&null!==c.cookieName){var b=a.cookie(c.cookieName);null!==b&&(c.initLetter=b)}if(""!==c.initLetter)e=!0,a("."+c.initLetter.toLowerCase(),o).slice(0,1).click();else if(c.includeAll)a(".all",o).addClass("ln-selected");else for(var f=c.includeNums?0:1;f<d.length;f++)if(s[d[f]]>0){e=!0,a("."+d[f],o).slice(0,1).click();break}}function f(){var b=p.outerHeight();p.css({top:a("a:first",n).slice(0,1).position().top-b})}function g(){var b,d,e="",f=c.prefixes.length>0,g=c.filterSelector.length>0;a(r).children().each(function(){if(d=a(this),b=g?a.trim(d.find(c.filterSelector).text()).toLowerCase():a.trim(d.text()).toLowerCase(),""!==b){if(f){var i=a.map(c.prefixes,function(a){return a.indexOf(" ")<=0?a+" ":a}),j=a.grep(i,function(a){return 0===b.indexOf(a)});if(j.length>0){var k=b.toLowerCase().split(j[0])[1];return e=null!=k?a.trim(k).charAt(0):b.charAt(0),h(e,d,!0),void 0}}e=b.charAt(0),h(e,d)}})}function h(a,b,c){/\W/.test(a)&&(a="-"),isNaN(a)||(a="_"),b.addClass("ln-"+a),void 0===s[a]&&(s[a]=0),s[a]++,c||t++}function i(){for(var b=0;b<d.length;b++)void 0===s[d[b]]&&a("."+d[b],o).addClass("ln-disabled")}function j(){r.append('<li class="ln-no-match listNavHide">'+c.noMatchText+"</li>")}function k(b){if(a(b).hasClass("all"))return t;var c=s[a(b).attr("class").split(" ")[0]];return void 0!==c?c:0}function l(){c.showCounts&&(n.mouseover(function(){f()}),a(".ln-letters a",n).mouseover(function(){var b=a(this).position().left,c=a(this).outerWidth()+"px",d=k(this);p.css({left:b,width:c}).text(d).addClass("letterCountShow").removeClass("listNavHide")}).mouseout(function(){p.addClass("listNavHide").removeClass("letterCountShow")}));var b=null!==document.ontouchstart?"click":"touchstart";a("a",o).bind(b,function(b){b.preventDefault();var d=a(this),f=d.attr("class").split(" ")[0],g=r.children(".ln-no-match");if(v!==f){if(a("a.ln-selected",o).removeClass("ln-selected"),"all"===f)r.children().addClass("listNavShow").removeClass("listNavHide"),g.addClass("listNavHide").removeClass("listNavShow"),u=!0;else{u?(r.children().addClass("listNavHide").removeClass("listNavShow"),u=!1):""!==v&&r.children(".ln-"+v).addClass("listNavHide").removeClass("listNavShow");var h=k(this);h>0?(r.children(".ln-"+f).addClass("listNavShow").removeClass("listNavHide"),g.addClass("listNavHide").removeClass("listNavShow")):g.addClass("listNavShow").removeClass("listNavHide")}v=f,a.cookie&&null!==c.cookieName&&a.cookie(c.cookieName,f,{expires:999}),d.addClass("ln-selected"),d.blur(),e||null===c.onClick?e=!1:c.onClick(f)}})}function m(){for(var a=[],b=1;b<d.length;b++)0===a.length&&a.push('<a class="all" href="#">ALL</a><a class="_" href="#">0-9</a>'),a.push('<a class="'+d[b]+'" href="#">'+("-"===d[b]?"...":d[b].toUpperCase())+"</a>");return'<div class="ln-letters">'+a.join("")+"</div>"+(c.showCounts?'<div class="ln-letter-count listNavHide">0</div>':"")}var n,o,p,q=this.id,r=a(this),s={},t=0,u=!0,v="";a("#"+q+"-nav").length||a('<div id="'+q+'-nav" class="listNav"/>').insertBefore(r),n=a("#"+q+"-nav"),b()})},a.fn.listnav.defaults={initLetter:"",includeAll:!0,incudeOther:!1,includeNums:!0,flagDisabled:!0,removeDisabled:!1,noMatchText:"No matching entries",showCounts:!0,cookieName:null,onClick:null,prefixes:[],filterSelector:""}}(jQuery);